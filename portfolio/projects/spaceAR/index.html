<!DOCTYPE html>

<html>
  <head>
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
  </head>
  <!-- Aframe source code -->
  <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.min.js"></script>
  <script src="https://raw.githack.com/donmccurdy/aframe-extras/master/dist/aframe-extras.loaders.min.js"></script>
  <!-- On Click video player -->
  <script>
        document.addEventListener("click", () =>{
        video = document.querySelector("video");
        video[video.paused ? 'play' : 'pause']();
        });
  </script> 
  <!-- Touch interfaces -->
  <script>
    document.addEventListener("touchstart", () => {
      video = document.querySelector("video");
      video[video.paused ? "play" : "pause"]();
    });
  </script>
  
  
  <body style="margin : 0px; overflow: hidden;">
    <!-- Add detectionMode and matrixCodeType to tell AR.js to recognize barcode markers -->
    <a-assets>
      <video
        id="onboard"
        play-on-click
        loop="true"
        src="https://cdn.glitch.me/372b6348-4cd0-4fbf-9d1a-17b34ad6dafa%2FCRS-18ResearchOverview.mp4?v=1638736245754"
      ></video>
    </a-assets>

    <a-scene
      embedded
      vr-mode-ui="enabled: false"
      arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;"
    >
      <a-marker
        markerhandler
        smooth="true"
        smoothTolerance="0.4"
        smoothCount="7"
        smoothThreshold="7"
        emitevents="true"
        cursor="rayOrigin: mouse"
        id="animated-marker"
        type="barcode"
        value="6"
      >
        <!-- create content here. -->
        <a-plane
          position="-6.5 0.5 -9"
          scale="8 8 0"
          rotation="0 30 0"
          src="/images/crs18.png"
        ></a-plane>
        <a-text
          value="Click to learn more about CRS-18"
          scale="3 3 0"
          position="0 3 -14"
          rotation="0 -5 0"
          color="#29254a"
        ></a-text>
        <a-entity
          material="shader: flat; src: #onboard"
          visible = "true"
          geometry="primitive: plane;
                  width: 16;
                  height: 9"
          position="3 8 -15"
          rotation="0 -5 0"
        >
        </a-entity>
      </a-marker>
      <a-entity camera></a-entity>
    </a-scene>
  </body>
</html>
